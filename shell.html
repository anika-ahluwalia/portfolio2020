<!doctype html>

<html>
  <head>
    <title>Shell</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bitter&family=Raleway:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="bootstrap.css">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
  </head>

  <body>
    <nav class="navbar sticky-top navbar-expand-sm navigation" id="navbarNav">
        <button class="navbar-toggler" 
            style="background-color: #5BA092; margin-left: 80%; margin-right: 10%; margin-top: 7px;" 
            type="button" data-toggle="collapse" data-target="#navbarSupportedContent" 
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"> <i class="fa fa-bars" style="font-size: 30px; color: white;"></i> </span>
        </button>
        <div class="collapse navbar-collapse right" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" href="home.html">HOME</a></li>
            <li class="nav-item"><a class="nav-link" href="about.html">ABOUT</a></li>
            <li class="nav-item"><a class="nav-link nav-selected" href="work.html">WORK</a></li>
            <li class="nav-item"><a class="nav-link" href="https://drive.google.com/file/d/1SezkaPqcf6_0Q4kmRg1-26kCCvG-e58D/view?usp=sharing">RESUME</a></li>
          </ul>
        </div>
    </nav>
    <a style="text-decoration:none" href="work.html">
        <div class="return d-flex">
            <img class="back-icon" src="assets/back-arrow.png" alt="back"/>
            <div class="accent">return to work</div>
        </div>
    </a>
    <!-- <div class="row">
        <div class="project-header col-lg-12"> Shell </div>
        <div class="project-tech col-lg-12">C | October 2020</div>
    </div> -->

    <div class="project-explanation-wrapper">

        <div class="row">
            <div class="img-wrapper col-lg-4 col-xs-12" style="margin-top: 20px">
              <img class="project-img" src="assets/development.png" alt="spotify" />
          </div>
            <div class="project-header-text-wrap col-lg-6 col-xs-12">
              <div class="project-text" style="margin-top: 50px;">
                  <div class="project-header">SHELL</div>
                  <div class="project-tech accent">C, Systems Engineering</div>
                  <div class="project-tech">October 2020| Class Project</div>
                </div>
              </div>
          </div>

        <div class="section">
            <h2><span class="accent">Introduction</span></h2>
                <div class="">
                    <p>
                        For my systems engineering course, I created a shell in order to better understand 
                        computer system calls, foreground and background processes, and handling file redirection. 
                    </p>
                  <p>This project was a notable experience for me because I created this shell from scratch
                       which required a lot of problem solving and a deep level of understanding of computer systems. 
                       While I am not allowed to share the code produced in this project due to the course's collaboration policy, 
                       I would like to share some of my logic while creating it and the process of developing this project. </p>
                </div>      
          </div>

          <div class="section align-items-center justify-content-center">
            <h2><span class="accent">Parsing Input</span></h2>  
            <p>I used the library read() function in order to parse the command line input that the user entered.
                This allowed me to read what was input into the "stdin" file descriptor into a buffer that I could 
                modify and parse through. 
                I called this function within a REPL (which was constructed by having a continuous while loop in which
                input was read in and parsed and could only be terminated by receiving a signal to do so).
                At every iteration of this REPL, I reset my buffer to null before reading in the next line of input. 
                I then parsed through this buffer using the strtok() command to tokenize the input and store it in a new array.
                I also checked for end of file indicators and separated based on various types of whitespace characters.
                Next, I parsed through the command line input and checked for redirection symbols and file paths.
          </div>

          <div class="section align-items-center justify-content-center">
            <h2><span class="accent">Redirecting</span></h2>  
            <p>After tokenizing and parsing through the input string, I checked for built in commands such as cd, 
                ln, and rm and used a separate function to handle those commands. If none of these commands were in 
                the input string, I forked and created a child process to execute the inputted command. Following forking,
                I redirected input or output if necessary from the files entered in the input string. This involved 
                using file I/O to close standard output or input and open the specified files. I executed the other 
                inputted commands usinf the execv() function. </p>
          </div>

          <div class="section align-items-center justify-content-center">
            <h2><span class="accent">Handling Multiple Processes</span></h2>  
            <p> When handling multiple processes, I began by using a jobs list to keep track of all processes
                running in the background. This involved checking command line input for indications of 
                creating or moving a process into the background such as '&' and 'bg' and ensuring that the shell 
                proceeded without waiting for these processes. I found that the best way to do so was to 
                use the waitpid() system call to delay the shell from proceeding with foreground processes but 
                ignoring this or background processes. Additionally, I needed to ensure that background processes
                were terminated and removed from the jobs list once they had finished running. I accomplished this 
                by checking the entire jobs list at every iteration of the REPL and removing processes that 
                had finished.</p>
          </div>

          <div class="section align-items-center justify-content-center">
            <h2><span class="accent">Conclusion</span></h2>  
            <p>Ultimately, this project was really important in strengthening my confidence in my own 
                abilities in systems engineering. A week before creating this shell, I would have never 
                in my wildest dreams imagined that I would be able to tackle such a project on my
                own and be successful. It emphasized the importance of incremental programming and taking
                things step by step rather than tackling the entire large project at once. In the end,
                I am very happy with both what I learned from the project and what I created. 
            </p>
          </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
